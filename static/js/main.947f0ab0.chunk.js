(this["webpackJsonpfrontend-project"]=this["webpackJsonpfrontend-project"]||[]).push([[0],{33:function(e,t,n){},43:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(4),s=n.n(r),c=n(34),i=n.n(c),o=(n(43),n(20)),l=n(21),u=n(23),d=n(22),j=n(11),h=n(8),b=n(18),p=n(37);function m(e){var t=e.component,n=e.authenticated,r=Object(p.a)(e,["component","authenticated"]);return Object(a.jsx)(h.b,Object(b.a)(Object(b.a)({},r),{},{render:function(e){return!0===n?Object(a.jsx)(t,Object(b.a)(Object(b.a)({},e),r)):Object(a.jsx)(h.a,{to:"/login"})}}))}var O=n(15),f=O.a.initializeApp({apiKey:"AIzaSyBlJo9nci-3H-zZs26iPzBIsbnvrd4I3ck",authDomain:"frontend-project-d2c1e.firebaseapp.com",projectId:"frontend-project-d2c1e",storageBucket:"frontend-project-d2c1e.appspot.com",messagingSenderId:"69316839170",appId:"1:69316839170:web:9cc25d653e85cf3cc7641b",measurementId:"G-R1JSKJRDYF"}),g=f.firestore(),x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).userTyping=function(t,n){switch(t){case"email":e.setState({email:n.target.value});break;case"password":e.setState({password:n.target.value});break;case"passwordConfirmation":e.setState({passwordConfirmation:n.target.value})}},e.formIsValid=function(){return e.state.password===e.state.passwordConfirmation},e.submitSignup=function(t){t.preventDefault(),e.formIsValid()?O.a.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){var n={email:t.user.email,friends:[],messages:[]};O.a.firestore().collection("admin").doc(e.state.email).set(n).then((function(){e.props.history.push("/dashboard")}),(function(t){console.log("Failed to add user to the database: ",t),e.setState({signupError:"Failed to add user"})}))}),(function(t){console.log("Failed to create user: ",t),e.setState({signupError:"Failed to add user: ".concat(t.message)})})):e.setState({signupError:"Passwords do not match"})},e.state={email:null,password:null,passwordConfirmation:null,signupError:""},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("form",{className:"form",onSubmit:function(t){return e.submitSignup(t)},children:[Object(a.jsx)("h1",{className:"sign",children:"Sign Up"}),Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{type:"email",placeholder:"email",value:this.state.email,onChange:function(t){return e.userTyping("email",t)}}),Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{placeholder:"password",type:"password",value:this.state.password,onChange:function(t){return e.userTyping("password",t)}}),Object(a.jsx)("label",{children:"Confirm Password"}),Object(a.jsx)("input",{placeholder:"confirm password",type:"password",value:this.state.confirmPassword,onChange:function(t){return e.userTyping("passwordConfirmation",t)}}),Object(a.jsx)("button",{type:"submit",style:{background:" rgb(2, 2, 110)"},children:"Sign Up"}),this.state.signupError?Object(a.jsx)("h5",{children:this.state.signupError}):null,Object(a.jsx)("h5",{children:"Already Have An Account?"}),Object(a.jsx)(j.b,{to:"/login",children:"Log In Here"})]})}}]),n}(s.a.Component),v=n(30),w=n.n(v),y=n(36),S=(n(33),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).userTyping=function(t,n){switch(t){case"email":e.setState({email:n.target.value});break;case"password":e.setState({password:n.target.value})}},e.submitLogin=function(){var t=Object(y.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,O.a.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){e.props.history.push("/dashboard")}),(function(t){e.setState({serverError:!0}),console.log("Error logging in: ",t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={email:null,password:null,serverError:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("form",{className:"form",onSubmit:function(t){return e.submitLogin(t)},children:[Object(a.jsx)("h1",{className:"sign",children:"Sign In"}),Object(a.jsx)("label",{children:"Enter your Email"}),Object(a.jsx)("input",{type:"email",placeholder:"email",value:this.state.email,onChange:function(t){return e.userTyping("email",t)}}),Object(a.jsx)("label",{children:"Enter your Password"}),Object(a.jsx)("input",{placeholder:"password",type:"password",value:this.state.password,onChange:function(t){return e.userTyping("password",t)}}),Object(a.jsx)("button",{type:"submit",style:{background:" rgb(2, 2, 110)"},children:"Sign In"}),this.state.serverError?Object(a.jsx)("h5",{children:"Incorrect Login Information"}):null,Object(a.jsx)("h5",{children:"Don't Have An Account?"}),Object(a.jsx)(j.b,{to:"/signup",children:"Sign Up Here"})]})}}]),n}(s.a.Component)),N=n(17),C=function(){var e=Object(r.useState)(""),t=Object(N.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(""),i=Object(N.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(""),d=Object(N.a)(u,2),h=d[0],b=d[1],p=Object(r.useState)(""),m=Object(N.a)(p,2),O=m[0],f=m[1],x=Object(r.useState)(!1),v=Object(N.a)(x,2),w=v[0],y=v[1];return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),y(!0),g.collection("users").add({name:n,number:o,address:h,aadhar:O}).then((function(){y(!1),alert("Your info has been submitted\ud83d\udc4d")})).catch((function(e){alert(e.message),y(!1)})),s(""),l(""),b(""),f("")},children:[Object(a.jsx)("h1",{children:"Hello There."}),Object(a.jsx)("h3",{children:"Please provide your information below."}),Object(a.jsx)("label",{children:"Full Name"}),Object(a.jsx)("input",{placeholder:"Full Name",value:n,onChange:function(e){return s(e.target.value)}}),Object(a.jsx)("label",{children:"Contact No."}),Object(a.jsx)("input",{placeholder:"Contact No.",type:"text",value:o,onChange:function(e){return function(e){(""===e||/^[0-9\b]+$/.test(e))&&l(e)}(e.target.value)}}),Object(a.jsx)("label",{children:"Full Address"}),Object(a.jsx)("textarea",{placeholder:"Full Address",value:h,onChange:function(e){return b(e.target.value)}}),Object(a.jsx)("label",{children:"Aadhar No."}),Object(a.jsx)("input",{placeholder:"Aadhar No.",type:"text",value:O,onChange:function(e){return function(e){(""===e||/^[0-9\b]+$/.test(e))&&f(e)}(e.target.value)}}),Object(a.jsx)("button",{type:"submit",style:{background:w?"#ccc":" rgb(2, 2, 110)"},children:"Submit"}),Object(a.jsx)("h5",{children:"Done with the registration?"}),Object(a.jsx)(j.b,{to:"/",children:"Home Page"})]})})},A=function(e){var t=Object(r.useState)([]),n=Object(N.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){var t=g.collection(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id}))})),s(t)}));return function(){return t()}}),[e]),{docs:a}},E=function(){return O.a.auth().signOut()},I=(n(52),function(){var e=A("users").docs;return console.log(e),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"sidenav",children:[Object(a.jsx)(j.b,{className:"sidebar-element",to:"/externaluser",children:"New User"}),Object(a.jsx)(j.b,{className:"sidebar-element",to:"/login",onClick:E,children:"Log Out"})]}),Object(a.jsx)("div",{className:"main",children:Object(a.jsxs)("div",{className:"table-users",children:[Object(a.jsx)("div",{className:"header",children:"Users"}),Object(a.jsxs)("table",{cellspacing:"0",children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"heading",children:"Full Name"}),Object(a.jsx)("th",{className:"heading",children:"Phone No."}),Object(a.jsx)("th",{className:"heading",children:"Aadhar No."}),Object(a.jsx)("th",{className:"heading",width:"230",children:"Address"})]}),e&&e.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:e.number}),Object(a.jsx)("td",{children:e.aadhar}),Object(a.jsx)("td",{children:e.address})]})}))]})]})})]})}),k=function(){return Object(a.jsxs)("div",{className:"landing-page",children:[Object(a.jsx)("h1",{className:"heading",children:"Hello There."}),Object(a.jsx)("h2",{className:"subheading",children:"Are you a User or an Administrator?"}),Object(a.jsxs)("div",{className:"options",children:[Object(a.jsx)(j.b,{className:"option",to:"/externaluser",children:"User"}),Object(a.jsx)(j.b,{className:"option",to:"/login",children:"Admin"})]})]})},F=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={authenticated:!1,user:null},e}return Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=this;f.auth().onAuthStateChanged((function(t){t?e.setState({authenticated:!0,currentUser:t,loading:!1}):e.setState({authenticated:!1,currentUser:null,loading:!1})}))}},{key:"render",value:function(){var e=this.state.authenticated;return Object(a.jsx)("div",{className:"app",children:Object(a.jsx)(j.a,{children:Object(a.jsxs)(h.d,{children:[Object(a.jsx)(h.b,{exact:!0,path:"/",component:k}),Object(a.jsx)(m,{exact:!0,path:"/externaluser",component:C,authenticated:e}),Object(a.jsx)(h.b,{exact:!0,path:"/signup",component:x}),Object(a.jsx)(h.b,{exact:!0,path:"/login",component:S}),Object(a.jsx)(m,{exact:!0,path:"/dashboard",component:I,authenticated:e})]})})})}}]),n}(s.a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root")),P()}},[[53,1,2]]]);
//# sourceMappingURL=main.947f0ab0.chunk.js.map